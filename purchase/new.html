<h3>Your Cart</h3>

<table ng-controller="CartController">
  <thead>
    <tr>
      <th>Product</th>
      <th>Price</th>
      <th>Quantity</th>
      <th>Total</th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="cart_item in cart_items">
      <td>{{ cart_item.name }}</td>
      <td>{{ cart_item.price | currency }}</td>
      <td>{{ cart_item.quantity }}</td>
      <td>{{ (cart_item.quantity * cart_item.price) | currency }}</td>
    </tr>
  </tbody>
  <tfoot>
    <tr>
      <th>Total</th>
      <th colspan="3">{{ cart_total | currency }}</th>
    </tr>
  </tfoot>
</table>


<form ng-controller="PurchaseController" ng-submit="submitPurchase(purchase, newPurchaseForm)" name="newPurchaseForm">
  <h4>Payment Information</h4>
  <label for="name_on_card">Name on Credit Card</label>
  <input ng-model="purchase.name_on_card" type="text" name="name_on_card" id="name_on_card" />
  <br><br>
  <label for="card_number">Card Number</label>
  <input ng-model="purchase.card_number" type="text" name="card_number" id="card_number" />
  <br><br>
  <label for="expiration_month">Expiration Date</label>
  <input ng-model="purchase.expiration_month" type="text" name="expiration_month" id="expiration_month" />
  <input ng-model="purchase.expiration_year" type="text" name="expiration_year" id="expiration_year" />
  <br><br>
  <br><br>
  <button type="submit" ng-disabled="newPurchaseForm.$invalid">Submit Order</button>
</form>